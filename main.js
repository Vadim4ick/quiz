//–í–æ–ø—Ä–æ—Å—ã –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
const questions = [
  {
    question: "–ö–∞–∫–æ–π —è–∑—ã–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ?",
    answers: ["Java", "C", "Python", "JavaScript"],
    correct: 4,
  },
  {
    question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç CSS?",
    answers: [
      "Central Style Sheets",
      "Cascading Style Sheets",
      "Cascading Simple Sheets",
      "Cars SUVs Sailboats",
    ],
    correct: 2,
  },
  {
    question: "–ß—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç HTML?",
    answers: [
      "Hypertext Markup Language",
      "Hypertext Markdown Language",
      "Hyperloop Machine Language",
      "Helicopters Terminals Motorboats Lamborginis",
    ],
    correct: 1,
  },
  {
    question: "–í –∫–∞–∫–æ–º –≥–æ–¥—É –±—ã–ª —Å–æ–∑–¥–∞–Ω JavaScript?",
    answers: ["1996", "1995", "1994", "–≤—Å–µ –æ—Ç–≤–µ—Ç—ã –Ω–µ–≤–µ—Ä–Ω—ã–µ"],
    correct: 2,
  },
];

//======================== –ù–∞—Ö–æ–¥–∏–º —ç–ª–µ–º–µ–Ω—Ç—ã =========================
const headerContainer = document.querySelector("#header"); //—Ö–µ–¥–µ—Ä
const listContainer = document.querySelector("#list"); //—Å–ø–∏—Å–æ–∫ —Å –æ—Ç–≤–µ—Ç–∞–º–∏
const submitBtn = document.querySelector("#submit"); //–ö–Ω–æ–ø–∫–∞ –æ—Ç–≤–µ—Ç–∏—Ç—å

//–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–≥—Ä—ã
let score = 0; //–ö–æ–ª-–≤–æ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
let questionIndex = 0; //–¢–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å
//===================================================================

clearPage();
showQuestions();
submitBtn.onclick = checkAnswer;

//=========== –§—É–Ω–∫–∏—Ü—è –æ—á–∏—Å—Ç–∫–∏ HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã ========================
function clearPage() {
  //–û—á–∏—â–∞–µ–º —Ö–µ–¥–µ—Ä –∏ —Å–ø–∏—Å–æ–∫ —Å –æ—Ç–≤–µ—Ç–∞–º–∏
  headerContainer.innerHTML = ``;
  listContainer.innerHTML = ``;
}
//===================================================================

//=========== –§—É–Ω–∫–∏—Ü—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –≤–æ–ø—Ä–æ—Å–∞ ==================
function showQuestions() {
  //–í–æ–ø—Ä–æ—Å:
  //–ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑–º–µ—Ç–∫—É –≤–æ–ø—Ä–æ—Å–∞
  const headerTemplate = `<h2 class="title">%title%</h2>`;

  //–ü–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –≤ —Ä–∞–∑–º–µ—Ç–∫–µ —Å title –Ω–∞ —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞ –∏–∑ –º–∞—Å—Å–∏–≤–∞
  const title = headerTemplate.replace(
    "%title%",
    questions[questionIndex]["question"]
  );

  //–ü–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å —Å —Ä–∞–∑–º–µ—Ç–∫–æ–π
  headerContainer.innerHTML = title;

  //–í–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤:
  //–û–ø—Ä–µ–¥–µ–ª—è–µ–º –Ω–µ–∫–∏–π –Ω–æ–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ (–ò–¥)
  let answerNumber = 1;
  //–ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –º–∞—Å—Å–∏–≤ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –∏ –ø–æ–ª—É—á–∞–µ–º –∫–∞–∂–¥—ã–π –≤–æ–ø—Ä–æ—Å –æ—Ç–¥–µ–ª—å–Ω–æ
  for (item of questions[questionIndex]["answers"]) {
    //–ü–æ–ª—É—á–∞–µ–º —Ä–∞–∑–º–µ—Ç–∫—É –≤–æ–ø—Ä–æ—Å–∞
    const questionTemplate = `<li>
		<label>
			<input value="%number%" type="radio" class="answer" name="answer" />
			<span>%answer%</span>
		</label>
	</li>`;

    //–ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º —Ç–µ–∫—Å—Ç –≤ —Ä–∞–∑–º–µ—Ç–∫–µ –Ω–∞ –Ω—É–∂–Ω—ã–π –Ω–∞–º –æ—Ç–≤–µ—Ç
    let answerHTML = questionTemplate.replace("%answer%", item);

    //–ü–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ–º value –∏ –ø—Ä–∏—Å–≤–∞–µ–≤–∞–µ–º –∫–∞–∂–¥–æ–º—É —Å–≤–æ–π id
    answerHTML = answerHTML.replace("%number%", answerNumber);
    //–≤—Å—Ç–∞–≤–ª—è–µ–º –≤ html —Ä–∞–∑–º–µ—Ç–∫—É
    listContainer.innerHTML += answerHTML;
    //–û—á–∏—â–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏
    submitBtn.blur();
    //—É–≤–µ–ª–∏—á–∏–≤–∞–µ–º id –∫–∞–∂–¥–æ–≥–æ —ç–ª. –Ω–∞ 1
    answerNumber++;
  }
}
//===================================================================

//=========== –§—É–Ω–∫–∏—Ü—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–∞ ==================
function checkAnswer() {
  //–ù–∞—Ö–æ–¥–∏–º –Ω–∞–∂–∞—Ç—É—é —Ä–∞–¥–∏–æ–∫–Ω–æ–ø–∫—É –≤ —Ä–æ–¥–∏—Ç–µ–ª–µ –ª–∏—Å—Ç–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –Ω–∞–∂–∞—Ç–∞ –ª–∏ –æ–Ω–∞ –∏–ª–∏ –Ω–µ—Ç
  const checkRadio = listContainer.querySelector('input[type="radio"]:checked');

  //–ï—Å–ª–∏ —Ä–∞–¥–∏–æ–∫–Ω–æ–ø–∫–∞ –Ω–µ –≤—ã–±—Ä–∞–Ω–∞, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é (–ë—É–¥–µ—Ç –ø–æ–≤—Ç–æ—Ä—è—Ç—å—Å—è –∑–∞–Ω–æ–≥–æ), –Ω–∏—á–µ–≥–æ –Ω–µ –¥–µ–ª–∞–µ–º –∏ —É–±–∏—Ä–∞–µ–º —Ç–µ–º–Ω—ã–π —Ü–≤–µ—Ç –∫–Ω–æ–ø–∫–∏
  if (!checkRadio) {
    submitBtn.blur();
    return;
  }

  //–£–∑–Ω–∞–µ–º –Ω–æ–º–µ—Ä –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  //–ü—Ä–µ–≤—Ä–∞—â–∞–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç value - (–ï–≥–æ id) –≤ —á–∏—Å–ª–æ
  const userAnswer = parseInt(checkRadio.value);

  //–ï—Å–ª–∏ –æ—Ç–≤–µ—Ç –≤–µ—Ä–µ–Ω, —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—á–µ—Ç
  if (userAnswer === questions[questionIndex]["correct"]) {
    score++;
  }

  //–ü—Ä–æ–≤–µ—Ä–∫–∞, –º—ã –Ω–∞—Ö–æ–¥–∏–ª–∏—Å—å –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –≤–æ–ø—Ä–æ—Å–µ –∏–ª–∏ –Ω–µ—Ç?
  //–ï—Å–ª–∏ —ç—Ç–æ –ù–ï –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ–ø—Ä–æ—Å, —Ç–æ
  if (questionIndex !== questions.length - 1) {
    //–£–≤–µ–ª–∏—á–∏–≤–∞–µ–º –∏–Ω–¥–µ–∫—Å, –æ—á–∏—â–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ –ø–æ–∫–∞–∑. —Å–ª–µ–¥. –≤–æ–ø—Ä–æ—Å
    questionIndex++;
    clearPage();
    showQuestions();
    return;
  } else {
    //–µ—Å–ª–∏ —ç—Ç–æ –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤–æ–ø—Ä–æ—Å, —Ç–æ –æ—á–∏—â–∞–µ–º —Å—Ç—Ä., –ø–æ–∫–∞–∑. —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, –º–µ–Ω—è–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ "–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞" –∏ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç—Ä
    clearPage();
    showResults();
  }
}
//===================================================================

//=========== –§—É–Ω–∫–∏—Ü—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ ======================
function showResults() {
  //–†–∞–∑–º–µ—Ç–∫–∞ –¥–ª—è –≤—ã–≤–æ–¥–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  const resultsTemplate = `
            <h2 class="title">%title%</h2>
            <h3 class="summary">%message%</h3>
            <p class="result">%result%</p>
            `;

  //–ï—Å–ª–∏ –∫–æ–ª-–≤–æ –Ω–∞–±—Ä–∞–Ω–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ = –≤—Å–µ–º –≤–æ–ø—Ä–æ—Å–∞–º, —Ç–æ.. –ï—Å–ª–∏ –∫–æ–ª-–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ = –ø–æ–ª–æ–≤–∏–Ω–µ, —Ç–æ... –ò–Ω–∞—á–µ..
  //–í–∞—Ä–∏–∞–Ω—Ç—ã –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ —Ç–µ–∫—Å—Ç–∞
  let title, message;
  if (score === questions.length) {
    title = `–ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! üî•`;
    message = `–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –≤—Å–µ –≤–æ–ø—Ä–æ—Å—ã –≤–µ—Ä–Ω–æ! üòä‚ú®`;
  } else if ((score * 100) / questions.length >= 50) {
    title = `–ù–µ–ø–ª–æ—Ö–æ! üí™`;
    message = `–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –±–æ–ª—å—à–µ —á–µ–º –Ω–∞ –ø–æ–ª–æ–≤–∏–Ω—É –≤–æ–ø—Ä–æ—Å–æ–≤ –≤–µ—Ä–Ω–æ! üéñÔ∏è`;
  } else {
    title = `–°—Ç–æ–∏—Ç –ø–æ—Å—Ç–∞—Ä–∞—Ç—å—Å—è... üòû`;
    message = `–í—ã –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –º–µ–Ω—å—à–µ –ø–æ–ª–æ–≤–∏–Ω—ã –≤–æ–ø—Ä–æ—Å–æ–≤ –≤–µ—Ä–Ω–æ! üé≠`;
  }

  //–†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø–∏—Å—ã–≤–∞–µ–º
  let result = `${score} –∏–∑ ${questions.length}`;

  //–§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ —à–∞–±–ª–æ–Ω
  const finalMessage = resultsTemplate
    .replace("%title%", title)
    .replace("%message%", message)
    .replace("%result%", result);

  //–í—Å—Ç–∞–≤–ª—è–µ–º —à–∞–±–ª–æ–Ω –≤ —Ö–µ–¥–µ—Ä
  headerContainer.innerHTML = finalMessage;

  //–ú–µ–Ω—è–µ–º –∫–Ω–æ–ø–∫—É –Ω–∞ "–ú–µ–Ω—è—Ç—å —Å–Ω–æ–≤–∞"
  //–°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ, –º–µ–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∏ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É, –æ–±–Ω–æ–≤–ª—è–µ–º —Å—Ç—Ä
  submitBtn.blur();
  submitBtn.innerHTML = `–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞`;
  submitBtn.onclick = function () {
    history.go();
  };
}
//===================================================================
